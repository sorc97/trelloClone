!function(e){function t(t){for(var r,i,l=t[0],c=t[1],s=t[2],d=0,f=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/trelloClone/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;o.push([56,1]),n()}(Array(27).concat([function(e,t,n){var r=n(28);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(30);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},,,,,,function(e,t,n){var r=n(37);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(39);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(41);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(43);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(45);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(47);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(49);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(51);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(53);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(55);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(3)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),i=n(8),l=(n(27),function(e){var t=e.handleAdding,n=e.placeholder,o=e.className,i=e.buttonText,l=Object(r.useRef)(null),c=Object(r.useState)(""),s=c[0],u=c[1];return a.a.createElement("form",{className:o,onSubmit:function(e){e.preventDefault(),t(s),u(""),l.current.focus()}},a.a.createElement("input",{type:"text",placeholder:n,value:s,ref:l,onChange:function(e){var t=e.target;u(t.value)},required:!0}),a.a.createElement("input",{type:"submit",value:i}))});l.defaultProps={handleAdding:function(){},placeholder:"Input field",className:"add-form",buttonText:"Add"};var c=l,s=n(9),u=(n(29),function(e){var t=e.boards,n=void 0===t?[]:t,r=e.onRemove,o=void 0===r?function(e){return e}:r;return n.length?a.a.createElement("ul",{className:"boards-list"},n.map((function(e){return a.a.createElement("li",{className:"boards-item",key:e.id},a.a.createElement(s.b,{to:"/board/"+e.id},a.a.createElement("span",{className:"boards-name"},e.title)),a.a.createElement("button",{className:"boards-remove",onClick:function(){return o(e.id)}},"×"))}))):a.a.createElement("p",{className:"boards-empty empty"},"No boards")}),d=Object(r.createContext)(null),f=localStorage["trello-store"]?JSON.parse(localStorage["trello-store"]):[],p=function(e){var t=e.children,n=Object(r.useState)(f),o=n[0],i=n[1];return Object(r.useEffect)((function(){localStorage.setItem("trello-store",JSON.stringify(o))}),[o]),a.a.createElement(d.Provider,{value:[o,i]},t)},m=(n(36),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r}),v=function(){var e=Object(r.useContext)(d),t=e[0],n=e[1];return a.a.createElement("main",{className:"boards"},a.a.createElement(c,{handleAdding:function(e){var t={title:e,id:Object(i.v4)(),date:new Date,todos:{}};n((function(e){return m(e,[t])}))},placeholder:"New board name",buttonText:"+",className:"add-form"}),a.a.createElement(u,{boards:t,onRemove:function(e){var r=t.filter((function(t){return t.id!==e}));n(r)}}))},g=function(e){var t=e.id,n=e.children,r=e.className,o=e.handleDrop;return a.a.createElement("div",{id:t,onDragEnter:function(e){e.preventDefault(),e.currentTarget.classList.add("underDrag")},onDragLeave:function(e){e.currentTarget.classList.remove("underDrag")},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.getData("id");o(t),document.querySelectorAll("."+r).forEach((function(e){return e.classList.remove("underDrag")}))},onDragOver:function(e){e.preventDefault()},className:r},n)};g.defaultProps={id:"",handleDrop:function(){}};var h=g,E=null,b=function(e){var t=e.id,n=e.children,r=e.className,o=e.handleDrag,i=e.handleDrop;return a.a.createElement("div",{id:t,draggable:"true",onDragStart:function(e){E=e.target,e.dataTransfer.setData("id",E.id),o(),E.classList.add("dragged")},onDragEnd:function(e){E.classList.remove("dragged"),E=null,document.querySelectorAll("."+r).forEach((function(e){return e.classList.remove("underDrag")}))},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget},onDragEnter:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget;t!==E&&t.classList.add("underDrag")},onDragLeave:function(e){e.stopPropagation();var t=e.currentTarget;t!==E&&t.classList.remove("underDrag")},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget,n=e.dataTransfer.getData("id");t!==E&&(i(n,t.id),document.querySelectorAll(".draggable-wrapper").forEach((function(e){return e.classList.remove("underDrag")})))},className:r},n)};b.defaultProps={id:"",handleDrag:function(){},handleDrop:function(){}};var y,k=b,T=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.startEditing=function(e){var t=e.target,n=t.parentElement;n.hasAttribute("draggable")&&n.setAttribute("draggable","false"),t.setAttribute("contenteditable","true"),t.classList.add("editing"),t.focus(),t.addEventListener("keydown",(function(e){"Enter"===e.code&&(e.preventDefault(),t.blur())}))},e.endEditing=function(e,t){var n=e.target,r=n.textContent,a=n.parentElement;""!==r?(a.hasAttribute("draggable")&&a.setAttribute("draggable","true"),t(r),n.removeAttribute("contenteditable"),n.classList.remove("editing")):n.focus()},e}return T(n,t),n.prototype.render=function(){var t=this;return a.a.createElement(e,N({onStartEdit:this.startEditing,onEndEdit:function(e){return t.endEditing(e,t.props.handleEditingEnd)}},this.props))},n}(a.a.Component)},w=function(e){var t=e.title,n=e.onStartEdit,r=e.onEndEdit,o=e.className;return a.a.createElement("li",{onDoubleClick:n,onBlur:r,className:o},t)};w.defaultProps={title:"",onStartEdit:function(){},onEndEdit:function(){}};var O=D(w),x=(n(38),function(e){var t=e.title,n=e.id,r=e.handleDrag,o=e.handleDrop,i=e.onEditTask;return a.a.createElement(k,{id:n,className:"draggable-wrapper",handleDrag:r,handleDrop:o},a.a.createElement(O,{title:t,className:"tasks-item",handleEditingEnd:function(e){return i(e,n)}}))});x.defaultProps={title:"Unknown",id:"",handleDrag:function(){},handleDrop:function(){},onEditTask:function(){}};var j=x,A=(n(40),function(e){var t=e.onClose,n=e.handleSubmit,o=e.placeholder,i=e.submitText,l=e.cancelText,c=e.minRows,s=Object(r.useState)(""),u=s[0],d=s[1],f=Object(r.useRef)(null),p=function(e){e.target.closest(".composer")||t()};Object(r.useEffect)((function(){return window.addEventListener("mousedown",p),function(){window.removeEventListener("mousedown",p)}}),[]);var m=function(e){e.style.height="auto",e.style.height=e.scrollHeight+(e.offsetHeight-e.clientHeight)+"px"},v=function(){""!==u?(n(u),f.current.focus(),f.current.style.height="auto",d("")):f.current.focus()};return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v()},className:"composer"},a.a.createElement("textarea",{autoFocus:!0,rows:c,ref:f,value:u,onChange:function(e){var t=e.target;d(t.value),m(t)},className:"composer-text",placeholder:o,onKeyDown:function(e){"Enter"===e.key&&(v(),e.preventDefault())}}),a.a.createElement("div",{className:"composer-btnWrapper"},a.a.createElement("button",{type:"submit",className:"composer-submit"},i),a.a.createElement("button",{className:"composer-cancel",onClick:t,type:"button"},l)))});A.defaultProps={submitText:"Submit",cancelText:"X",placeholder:"Enter the text",minRows:3,handleSubmit:function(){},onClose:function(){}};var P=A,S=(n(42),function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}),C=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r},L=function(e){var t=e.tasks,n=e.handleDrag,o=e.handleDrop,l=e.setNewTasks,c=e.isAdding,s=e.toggleAdding,u=Object(r.useRef)(null);Object(r.useEffect)((function(){var e;c&&t.length&&(e=u.current).scrollHeight-e.clientHeight&&(e.scrollTop=e.scrollHeight)}),[t,c]);return a.a.createElement("ul",{className:"tasks-list",ref:u},t.map((function(e){return a.a.createElement(j,S({key:e.id},e,{handleDrag:n,handleDrop:o,onEditTask:function(n){return function(e,n){var r=t.map((function(t){return t.id===n&&(t.title=e),t}));l(r)}(n,e.id)}}))})),c&&a.a.createElement(P,{submitText:"Add new Task",cancelText:"X",placeholder:"Enter task",onClose:s,handleSubmit:function(e){var n=Object(i.v4)(),r=C(t,[{title:e,id:n}]);l(r)}}))};L.defaultProps={tasks:[],isAdding:!1,handleDrag:function(){},handleDrop:function(){},setNewTasks:function(){},toggleAdding:function(){}};var R=L,_=function(e){var t=e.className,n=e.text,r=e.handleClick;return a.a.createElement("button",{className:t,onClick:r},n)};_.defaultProps={text:"Submit",handleClick:function(){}};var B=_,H=function(e){var t=e.title,n=e.className,r=e.captionRole,o=e.onStartEdit,i=e.onEndEdit;return"main"===r?a.a.createElement("h1",{className:n,onClick:o,onBlur:i},t):a.a.createElement("h2",{className:n,onClick:o,onBlur:i},t)};H.defaultProps={title:"Unknown",captionRole:"main",onStartEdit:function(){},onEndEdit:function(){}};var M=D(H),F=Object(r.createContext)(null),z=(n(44),function(e){var t=e.title,n=e.id,o=e.tasks,i=e.handleDrop,l=e.onEditTodoTitle,c=e.setNewTasks,s=e.onRemoveTodo,u=Object(r.useContext)(F).setDragFromTodo,d=Object(r.useState)(!1),f=d[0],p=d[1],m=function(){p(!f)};return a.a.createElement("li",{className:"todos-item"},a.a.createElement("div",{className:"tasks-header"},a.a.createElement(M,{handleEditingEnd:l,className:"tasks-caption",title:t,captionRole:"secondary"}),a.a.createElement("button",{onClick:s,className:"tasks-removeTodo"},"×")),a.a.createElement(h,{id:n,handleDrop:i,className:"droppable-wrapper"},a.a.createElement(R,{tasks:o,handleDrag:function(){return u(n)},handleDrop:i,setNewTasks:c,isAdding:f,toggleAdding:m})),!f&&a.a.createElement(B,{className:"tasks-addButton",text:"+ Add new task",handleClick:m}))});z.defaultProps={title:"unknown",id:"",tasks:[],onRemoveTodo:function(){},handleDrop:function(){},onEditTodoTitle:function(){},setNewTasks:function(){}};var V=z,q=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r},J=function(e,t){return t.filter((function(t){return t.id===e}))[0]},I=(n(46),function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}),U=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,a++)r[a]=o[i];return r},X=function(e){var t=e.setNewTodos,n=e.currentTodos,r=e.dragFromTodo,o=Object.values(n),i=function(e,a,o){var i,l,c=r;if(o||c!==a){var s=I({},n[c]),u=I({},n[a]),d=J(e,s.tasks);if(o){var f=u.tasks,p=J(o,f),m=f.indexOf(p);c===a&&(f=f.filter((function(t){return t.id!==e})));var v=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return q(e.slice(0,t),n,e.slice(t))}(f,m,d);if(u.tasks=v,c===a){var g=I(I({},n),((i={})[a]=u,i));return void t(g)}}else u.tasks=U(u.tasks,[d]);s.tasks=s.tasks.filter((function(t){return t.id!==e}));var h=I(I({},n),((l={})[a]=u,l[c]=s,l));t(h)}};return a.a.createElement("section",{className:"todos-section"},o.length?a.a.createElement("ul",{className:"todos-list"},o.map((function(e){return a.a.createElement(V,I({key:e.id},e,{handleDrop:function(t,n){return i(t,e.id,n)},onEditTodoTitle:function(r){return function(e,r){var a,o=I({},n[r]);o.title=e;var i=I(I({},n),((a={})[r]=o,a));t(i)}(r,e.id)},setNewTasks:function(r){return function(e,r){var a,o=I({},n[e]);o.tasks=r;var i=I(I({},n),((a={})[e]=o,a));t(i)}(e.id,r)},onRemoveTodo:function(){return r=e.id,delete(a=I({},n))[r],void t(a);var r,a}}))}))):a.a.createElement("p",{className:"todos-empty empty"},"No todos"))};X.defaultProps={currentTodos:{},setNewTodos:function(){},dragFromTodo:""};var K=X,W=(n(48),function(e){var t=e.basketText,n=void 0===t?"Remove area":t,r=e.onRemove,o=void 0===r?function(e){return e}:r;return a.a.createElement(h,{id:"basket",className:"basket",handleDrop:o},a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"basket-icon-wrapper"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},a.a.createElement("path",{className:"basket-icon",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}))),n))}),G=(n(50),function(e){var t=e.currentBoardTitle,n=e.editBoard,r=e.addNewTodo,o=e.removeTask;return a.a.createElement("section",{className:"todos-header"},a.a.createElement(M,{title:t,captionRole:"main",className:"todos-boardCaption",handleEditingEnd:n}),a.a.createElement(c,{placeholder:"Add new Todo",handleAdding:r,className:"add-form"}),a.a.createElement(W,{onRemove:o,basketText:"Drop task here to remove"}))});G.defaultProps={currentBoardTitle:"Unknown",editBoard:function(){},addNewTodo:function(){},removeTask:function(){}};var Q=G,Y=(n(52),function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}),Z=function(e){var t=e.match,n=void 0===t?{}:t,o=Object(r.useContext)(d),l=o[0],c=o[1],s=Object(r.useState)(""),u=s[0],f=s[1],p=n.params.id,m=J(p,l),v=Y({},m.todos),g=function(e){var t=l.map((function(t){return t.id===p&&(t.todos=e),t}));c(t)};return a.a.createElement(F.Provider,{value:{setDragFromTodo:function(e){f(e)}}},a.a.createElement("main",{className:"todos"},a.a.createElement(Q,{currentBoardTitle:m.title,editBoard:function(e){var t=l.map((function(t){return t.id===p&&(t.title=e),t}));c(t)},addNewTodo:function(e){var t,n=Object(i.v4)(),r=Y(Y({},v),((t={})[n]={title:e,id:n,tasks:[]},t));g(r)},removeTask:function(e){return function(e,t){var n,r=Y({},v[t]);r.tasks=r.tasks.filter((function(t){return t.id!==e}));var a=Y(Y({},v),((n={})[t]=r,n));g(a)}(e,u)}}),a.a.createElement(K,{currentTodos:v,setNewTodos:g,dragFromTodo:u})))},$=n(6),ee=(n(54),function(){return a.a.createElement(p,null,a.a.createElement($.c,null,a.a.createElement($.a,{exact:!0,path:"/",component:v}),a.a.createElement($.a,{path:"/board/:id",component:Z})))});Object(o.render)(a.a.createElement(s.a,null,a.a.createElement(ee,null)),document.getElementById("react-container"))}]));